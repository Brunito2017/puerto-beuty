---
import type { LocationProps } from '../types';
import { getAosAttrs } from '../utils/GetAosAttrs';

const { title, businessName, address, phone, googleMapsUrl } = Astro.props as LocationProps;
---

<section class="relative px-4 lg:px-0 py-16 lg:py-24 w-full max-w-6xl mx-auto overflow-hidden">
  <!-- Decorative background elements -->
  <div class="absolute -top-20 -right-20 w-64 h-64 bg-gradient-to-br from-pink-100 to-rose-100 rounded-full opacity-40 blur-3xl pointer-events-none"></div>
  <div class="absolute -bottom-20 -left-20 w-48 h-48 bg-gradient-to-tr from-amber-50 to-pink-50 rounded-full opacity-30 blur-3xl pointer-events-none"></div>
  
  <!-- Header section -->
  <div class="text-center mb-12 lg:mb-16 space-y-6">
    <!-- Decorative line -->
    <div class="w-20 h-1 bg-gradient-to-r from-pink-400 to-rose-400 rounded-full mx-auto"></div>
    
    <h2 class="text-4xl sm:text-5xl lg:text-6xl font-light text-neutral-900 leading-tight">
      <span class="font-extralight text-neutral-600">{title.split(' ')[0]}</span>
      <span class="block font-semibold bg-gradient-to-r from-pink-600 to-rose-600 bg-clip-text text-transparent">
        {title.split(' ').slice(1).join(' ')}
      </span>
    </h2>
  </div>
  <!-- Business info - minimalist approach -->
  <div class="mb-10 lg:mb-12 text-center space-y-4">
    <!-- Business name - simple and elegant -->
    <h3 class="text-xl sm:text-2xl font-medium text-neutral-800 mb-3">
      {businessName}
    </h3>
    
    <!-- Contact info in a clean horizontal layout -->
    <div class="flex flex-col sm:flex-row items-center justify-center gap-6 text-neutral-600">
      <!-- Address -->
      <div class="flex items-center space-x-2 group">
        <svg class="w-4 h-4 text-pink-500 group-hover:text-pink-600 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
        </svg>
        <span class="text-sm sm:text-base font-light">
          {address}
        </span>
      </div>
      
      <!-- Separator for desktop -->
      <div class="hidden sm:block w-px h-4 bg-neutral-300"></div>
      
      <!-- Phone -->
      <div class="flex items-center space-x-2 group">
        <svg class="w-4 h-4 text-pink-500 group-hover:text-pink-600 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
        </svg>
        <a href={`tel:${phone}`} class="text-sm sm:text-base font-light text-neutral-600 hover:text-pink-600 transition-colors duration-300">
          {phone}
        </a>
      </div>
    </div>
  </div>
  <!-- Enhanced map section -->
  <div class="relative group max-w-4xl mx-auto">
    <!-- Decorative background for map -->
    <div class="absolute -inset-6 bg-gradient-to-r from-pink-100 via-rose-50 to-amber-50 rounded-3xl opacity-60 group-hover:opacity-80 transition-all duration-500 blur-sm"></div>
    <div class="absolute -inset-3 bg-gradient-to-br from-white to-pink-50 rounded-2xl shadow-2xl shadow-pink-200/20"></div>
    
    <!-- Map container -->
    <a href={googleMapsUrl} target="_blank" rel="noopener" class="relative block overflow-hidden rounded-2xl shadow-2xl shadow-neutral-900/10 group-hover:shadow-neutral-900/20 transition-all duration-700">
      <iframe
        width="100%"
        height="400"
        frameborder="0"
        style="border:0"
        src={`https://www.google.com/maps?q=${encodeURIComponent(address)}&output=embed`}
        allowfullscreen
        aria-label="Mapa de ubicaciÃ³n"
        class="w-full h-96 lg:h-[400px] transition-all duration-700 group-hover:scale-105"
        loading="lazy"
      ></iframe>
      
      <!-- Elegant overlay -->
      <div class="absolute inset-0 bg-gradient-to-t from-pink-900/10 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-all duration-700 pointer-events-none"></div>
      
      <!-- Subtle shine effect -->
      <div class="absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out pointer-events-none"></div>
    </a>
    
    <!-- Call to action button -->
    <div class="flex justify-center mt-8">
      <a href={googleMapsUrl} target="_blank" rel="noopener" class="group relative inline-flex items-center overflow-hidden rounded-full bg-gradient-to-r from-pink-600 to-rose-600 px-8 py-4 text-white shadow-2xl shadow-pink-500/25 transition-all duration-300 hover:shadow-pink-500/40 hover:scale-105">
        <!-- Background animation -->
        <div class="absolute inset-0 bg-gradient-to-r from-rose-600 to-pink-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
        
        <!-- Map icon -->
        <svg class="relative w-5 h-5 mr-3 transition-transform duration-300 group-hover:scale-110" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"></path>
        </svg>
        
        <!-- Content -->
        <span class="relative text-sm sm:text-base font-medium tracking-wide">
          Ver en Google Maps
        </span>
        
        <!-- Animated arrow -->
        <svg class="relative ml-3 w-5 h-5 transition-transform duration-300 group-hover:translate-x-1" 
             fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
        </svg>
        
        <!-- Shine effect -->
        <div class="absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-700 ease-out"></div>
      </a>
    </div>
  </div>
  <script type="application/ld+json">
    {JSON.stringify({
      "@context": "https://schema.org",
      "@type": "LocalBusiness",
      "name": businessName,
      "address": {
        "@type": "PostalAddress",
        "streetAddress": address,
        "addressLocality": location,
        "addressCountry": "Chile"
      },
      "telephone": phone,
      "geo": {
        "@type": "GeoCoordinates",
        "latitude": latitude,
        "longitude": longitude
      }
    })}
  </script>
</section>